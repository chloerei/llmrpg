<% content_for :body do %>
  <div class="drawer lg:drawer-open">
    <input id="drawer" type="checkbox" class="drawer-toggle" />
    <div class="drawer-side">
      <label for="drawer" aria-label="close sidebar" class="drawer-overlay"></label>
      <div class="bg-base-200 text-base-content min-h-full w-80">
        <div class="navbar">
          <div class="flex-none flex items-center px-1">
            <a href="/" class="inline-flex p-1 text-primary">
              <svg class="rounded-box overflow-hidden" width="40" height="40" viewBox="0 0 512 512" fill="none" xmlns="http://www.w3.org/2000/svg"><rect width="512" height="512" fill="currentColor"/><path d="M136 391V316C136 307.75 138.938 300.688 144.812 294.812C150.688 288.938 157.75 286 166 286H346C354.25 286 361.312 288.938 367.188 294.812C373.062 300.688 376 307.75 376 316V391H136ZM211 271C190.25 271 172.562 263.688 157.938 249.062C143.312 234.438 136 216.75 136 196C136 175.25 143.312 157.562 157.938 142.938C172.562 128.312 190.25 121 211 121H301C321.75 121 339.438 128.312 354.062 142.938C368.688 157.562 376 175.25 376 196C376 216.75 368.688 234.438 354.062 249.062C339.438 263.688 321.75 271 301 271H211ZM166 361H346V316H166V361ZM211 241H301C313.5 241 324.125 236.625 332.875 227.875C341.625 219.125 346 208.5 346 196C346 183.5 341.625 172.875 332.875 164.125C324.125 155.375 313.5 151 301 151H211C198.5 151 187.875 155.375 179.125 164.125C170.375 172.875 166 183.5 166 196C166 208.5 170.375 219.125 179.125 227.875C187.875 236.625 198.5 241 211 241ZM211 211C215.25 211 218.812 209.562 221.688 206.688C224.562 203.812 226 200.25 226 196C226 191.75 224.562 188.188 221.688 185.312C218.812 182.438 215.25 181 211 181C206.75 181 203.188 182.438 200.312 185.312C197.438 188.188 196 191.75 196 196C196 200.25 197.438 203.812 200.312 206.688C203.188 209.562 206.75 211 211 211ZM301 211C305.25 211 308.812 209.562 311.688 206.688C314.562 203.812 316 200.25 316 196C316 191.75 314.562 188.188 311.688 185.312C308.812 182.438 305.25 181 301 181C296.75 181 293.188 182.438 290.312 185.312C287.438 188.188 286 191.75 286 196C286 200.25 287.438 203.812 290.312 206.688C293.188 209.562 296.75 211 301 211Z" fill="white"/></svg>
            </a>
          </div>
        </div>
        <ul class="menu menu-md w-full p-4">
          <li>
            <a href="<%= rooms_path %>" class="py-2 <%= "menu-active" if request.path.start_with?("/rooms") %>">
              <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-messages-square-icon lucide-messages-square"><path d="M14 9a2 2 0 0 1-2 2H6l-4 4V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2z"/><path d="M18 9h2a2 2 0 0 1 2 2v11l-4-4h-6a2 2 0 0 1-2-2v-1"/></svg>
              <%= t "general.rooms" %>
            </a>
          </li>
          <li>
            <a href="<%= characters_path %>" class="py-2 <%= "menu-active" if request.path.start_with?("/characters") %>">
              <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-users-icon lucide-users"><path d="M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2"/><path d="M16 3.128a4 4 0 0 1 0 7.744"/><path d="M22 21v-2a4 4 0 0 0-3-3.87"/><circle cx="9" cy="7" r="4"/></svg>
              <%=  t "general.characters" %>
            </a>
          </li>
          <li>
            <a href="<%= settings_root_path %>" class="py-2 <%= "menu-active" if request.path.start_with?("/settings") %>">
              <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-settings-icon lucide-settings"><path d="M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z"/><circle cx="12" cy="12" r="3"/></svg>
              <%= t "general.settings" %>
            </a>
          </li>
        </ul>
      </div>
    </div>
    <div class="drawer-content">
      <%= yield %>
    </div>
  </div>

  <% if request.path.in? ["/rooms", "/characters", "/settings"] %>
    <div class="dock lg:hidden">
      <a href="<%= rooms_path %>" class="<%= "dock-active" if request.path == "/rooms" %>">
        <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-messages-square-icon lucide-messages-square"><path d="M14 9a2 2 0 0 1-2 2H6l-4 4V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2z"/><path d="M18 9h2a2 2 0 0 1 2 2v11l-4-4h-6a2 2 0 0 1-2-2v-1"/></svg>
        <span class="dock-label">
          <%= t "general.rooms" %>
        </span>
      </a>
      <a href="<%= characters_path %>" class="<%= "dock-active" if request.path == "/characters" %>">
        <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-users-icon lucide-users"><path d="M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2"/><path d="M16 3.128a4 4 0 0 1 0 7.744"/><path d="M22 21v-2a4 4 0 0 0-3-3.87"/><circle cx="9" cy="7" r="4"/></svg>
        <span class="dock-label">
          <%= t "general.characters" %>
        </span>
      </a>
      <a href="<%= settings_root_path %>" class="<%= "dock-active" if request.path == "/settings" %>">
        <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-settings-icon lucide-settings"><path d="M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z"/><circle cx="12" cy="12" r="3"/></svg>
        <span class="dock-label">
          <%= t "general.settings" %>
        </span>
      </a>
    </div>
  <% end %>
<% end %>

<%= render template: "layouts/application" %>
