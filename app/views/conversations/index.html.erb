<div class="navbar shadow-xs sticky top-0 z-50 bg-base-100">
  <div class="flex-none">
    <a href="<%= room_path(@room) %>" class="btn btn-ghost btn-square">
      <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-arrow-left-icon lucide-arrow-left"><path d="m12 19-7-7 7-7"/><path d="M19 12H5"/></svg>
    </a>
  </div>
  <div class="flex-1">
    <div class="text-xl px-2">
      Conversations
    </div>
  </div>
</div>

<div class="max-w-3xl mx-auto p-4">
  <%= turbo_frame_tag "history" do %>
    <ul id="conversations" class="list" data-controller="pagination">
      <%= render @conversations %>

      <% if @pagy.next %>
        <a href="<%= pagy_url_for(@pagy, @pagy.next) %>" data-pagination-target="nextPageLink" class="block text-sm opacity-80 text-center p-4">
          Loading...
        </a>
      <% else %>
        <div class="text-sm opacity-80 text-center p-4">
          - END -
        </div>
      <% end %>
    </ul>
  <% end %>
</div>
